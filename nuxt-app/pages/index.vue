<template>
  <v-app>
    <v-container>

      <NuxtPage />
      <Bienvenida
  :titulo="titulo"
  v-model="mensaje"
  @saludo="handleSaludo"
/>
<v-expansion-panels class="my-6">
  <v-expansion-panel>
    <v-expansion-panel-title>
      <v-icon start color="primary">mdi-book-open-variant</v-icon>
      Historia de la Educaci√≥n F√≠sica
    </v-expansion-panel-title>

    <v-expansion-panel-text>
      <v-sheet elevation="1" class="pa-6 rounded-lg">
        <h2 class="text-h5 font-weight-bold mb-4">Historia de la Educaci√≥n F√≠sica en las Escuelas</h2>

        <h3 class="text-subtitle-1 font-weight-bold mt-4">1. Or√≠genes antiguos de la actividad f√≠sica educativa</h3>
        <p>
          La pr√°ctica de la actividad f√≠sica con fines educativos tiene sus ra√≠ces en las civilizaciones antiguas:
        </p>
        <ul>
          <li><strong>Grecia Antigua:</strong> La educaci√≥n f√≠sica era fundamental para formar ciudadanos fuertes, sanos y preparados para la guerra. Se promov√≠a el desarrollo f√≠sico junto al mental y moral, siguiendo el ideal del <em>kalokagath√≠a</em> (belleza y bondad).</li>
          <li><strong>Roma:</strong> Si bien los romanos valoraban la actividad f√≠sica, esta se enfocaba m√°s en el entrenamiento militar y el entretenimiento p√∫blico (como los juegos del circo).</li>
        </ul>

        <h3 class="text-subtitle-1 font-weight-bold mt-4">2. Edad Media: Decadencia del ejercicio f√≠sico</h3>
        <p>
          Durante la Edad Media, la educaci√≥n f√≠sica perdi√≥ protagonismo. La Iglesia predomin√≥ en la vida educativa, y el cuerpo era visto como fuente de pecado. La actividad f√≠sica era escasa y no se consideraba parte del proceso formativo.
        </p>

        <h3 class="text-subtitle-1 font-weight-bold mt-4">3. Renacimiento: Renacer del cuerpo y el movimiento</h3>
        <p>
          El Renacimiento revaloriz√≥ el cuerpo humano. Los ideales cl√°sicos volvieron a tener peso y se foment√≥ nuevamente el equilibrio entre cuerpo y mente. Fil√≥sofos y educadores como <strong>Vittorino da Feltre</strong> incorporaron juegos y ejercicio f√≠sico en sus m√©todos educativos.
        </p>

        <h3 class="text-subtitle-1 font-weight-bold mt-4">4. Siglos XVIII y XIX: Formalizaci√≥n de la Educaci√≥n F√≠sica</h3>
        <p>Durante estos siglos surgieron las primeras propuestas sistem√°ticas de Educaci√≥n F√≠sica:</p>
        <ul>
          <li><strong>Johann Basedow (Alemania):</strong> Incluy√≥ ejercicios f√≠sicos en su escuela filantr√≥pica como parte de la formaci√≥n integral.</li>
          <li><strong>Guts Muths (considerado el padre de la Educaci√≥n F√≠sica escolar):</strong> Public√≥ manuales con ejercicios estructurados que pod√≠an aplicarse en la escuela.</li>
          <li><strong>Per Henrik Ling (Suecia):</strong> Fund√≥ el sistema sueco de gimnasia, con un enfoque terap√©utico, ordenado y met√≥dico.</li>
          <li><strong>Francia e Inglaterra:</strong> Desarrollaron programas con orientaci√≥n militar, deportiva y de salud.</li>
        </ul>

        <h3 class="text-subtitle-1 font-weight-bold mt-4">5. Siglo XX: Inclusi√≥n formal en los sistemas educativos</h3>
        <p>
          La Educaci√≥n F√≠sica se integr√≥ en los planes de estudio en muchos pa√≠ses como una asignatura obligatoria. Su enfoque vari√≥ seg√∫n las regiones:
        </p>
        <ul>
          <li>En <strong>Am√©rica Latina</strong>, se impuls√≥ principalmente como parte del civismo y la salud p√∫blica.</li>
          <li>En <strong>Estados Unidos</strong>, se combinaron elementos militares, deportivos y recreativos.</li>
          <li>En <strong>Europa</strong>, se consolidaron diferentes escuelas: sueca, alemana y francesa.</li>
        </ul>
        <p>
          Durante este siglo tambi√©n se desarrollaron competencias deportivas escolares, la ense√±anza del deporte como medio educativo y la profesionalizaci√≥n del docente de Educaci√≥n F√≠sica.
        </p>

        <h3 class="text-subtitle-1 font-weight-bold mt-4">6. Siglo XXI: Una visi√≥n integral y transversal</h3>
        <p>
          Actualmente, la Educaci√≥n F√≠sica ha evolucionado hacia un modelo <strong>integral, inclusivo y activo</strong>, donde se promueve no solo el ejercicio f√≠sico, sino tambi√©n:
        </p>
        <ul>
          <li><strong>Valores humanos y habilidades socioemocionales:</strong> trabajo en equipo, respeto, disciplina, empat√≠a.</li>
          <li><strong>Salud integral:</strong> prevenci√≥n de enfermedades, h√°bitos alimenticios saludables, cuidado emocional.</li>
          <li><strong>Aprendizaje activo:</strong> se articula con otras √°reas del conocimiento, fomentando el aprendizaje a trav√©s del movimiento.</li>
        </ul>
        <p>
          Se han incorporado <strong>nuevas metodolog√≠as</strong> como el uso de TICs, gamificaci√≥n, desaf√≠os f√≠sicos y aprendizaje basado en proyectos, como se observa en el proyecto <em>Mu√©vete y Aprende</em>.
        </p>

        <v-divider class="my-4"></v-divider>

        <h3 class="text-h6 font-weight-bold">Conclusi√≥n</h3>
        <p>
          La historia de la Educaci√≥n F√≠sica en las escuelas muestra c√≥mo esta disciplina ha pasado de ser una preparaci√≥n militar o un entretenimiento a convertirse en una herramienta educativa fundamental para el desarrollo integral del ser humano. En el siglo XXI, se consolida como una v√≠a para mejorar el bienestar f√≠sico, emocional y cognitivo de los estudiantes, integrando cuerpo y mente en el proceso educativo.
        </p>
      </v-sheet>
    </v-expansion-panel-text>
  </v-expansion-panel>
</v-expansion-panels>

<v-card class="pa-4 mb-4">
<v-card-text>
      <p>La educaci√≥n f√≠sica es fundamental para el desarrollo integral del ser humano. A trav√©s de la actividad f√≠sica, mejoramos nuestra salud, fortalecemos nuestros m√∫sculos y fomentamos h√°bitos saludables.</p>
      <p>En este sitio encontrar√°s informaci√≥n sobre los beneficios del ejercicio, rutinas efectivas y consejos de alimentaci√≥n para mejorar tu rendimiento.</p>
      <v-divider class="my-4"></v-divider>
      <h3>¬øPor qu√© es importante la educaci√≥n f√≠sica?</h3>
      <ul>
        <li>Mejora la salud cardiovascular.</li>
        <li>Aumenta la fuerza y la resistencia.</li>
        <li>Reduce el estr√©s y mejora el estado de √°nimo.</li>
        <li>Fomenta la disciplina y el trabajo en equipo.</li>
      </ul>
      <v-divider class="my-4"></v-divider>
      <h3>Historia</h3>
      <iframe
          width="70%"
          height="300"
          src="https://www.youtube.com/embed/CBq_GbmrXLg"
          frameborder="0"
          allowfullscreen
          class="mt-3"
        ></iframe>
      

      

      <h3>Explora nuestros contenidos</h3>
      <p>Descubre m√°s sobre c√≥mo llevar una vida activa y saludable en las siguientes secciones:</p>
    </v-card-text>
  </v-card>

        <v-card-actions>
          <NuxtLink to="/beneficios">
            <v-btn color="primary">Beneficios</v-btn>
          </NuxtLink>
          <NuxtLink to="/ejercicios">
            <v-btn color="secondary">Ejercicios</v-btn>
          </NuxtLink>
          <NuxtLink to="/alimentacion">
            <v-btn color="success">Alimentaci√≥n</v-btn>
          </NuxtLink>
          <NuxtLink to="/creditos">
            <v-btn color="red">Creditos</v-btn>
          </NuxtLink>
        </v-card-actions>
    
    <v-container>
      <v-card class="mb-6" elevation="2" color="blue-lighten-5">
  <v-card-title class="text-h6 font-weight-bold">
    üåü Frase del D√≠a
  </v-card-title>
  <v-card-text>
    {{ frase }}
  </v-card-text>

  <v-divider class="my-2"></v-divider>

  <v-card-title class="text-h6 font-weight-bold">
    üí™ Reto Activo del D√≠a
  </v-card-title>
  <v-card-text>
    {{ reto }}
  </v-card-text>
  <v-card-actions>
    <v-btn color="primary" @click="cambiarReto">Otro Reto</v-btn>
  </v-card-actions>
</v-card>

    
    
      </v-container>



      <!-- Cuestionario -->
      <v-container class="mt-6">
        <h1>Cuestionario</h1>

        <v-btn
          color="primary"
          @click="loadQuestions"
          v-if="quiz.questions.length === 0"
          class="mb-4"
        >
          Cargar Preguntas
        </v-btn>

        <div v-if="quiz.questions.length > 0">
          <v-card class="mb-4" outlined>
            <v-card-title>{{ currentQuestion.question }}</v-card-title>
            <v-card-actions>
              <v-btn
                v-for="option in currentQuestion.options"
                :key="option"
                @click="submitAnswer(currentQuestion.id, option)"
                :class="{
                  'bg-blue-500 text-white': quiz.userAnswers[currentQuestion.id] === option,
                }"
              >
                {{ option }}
              </v-btn>
            </v-card-actions>
          </v-card>

          <div class="flex justify-between mb-4">
            <v-btn
              color="secondary"
              @click="prevQuestion"
              :disabled="quiz.currentQuestionIndex === 0"
            >
              Anterior
            </v-btn>
            <v-btn
              color="secondary"
              @click="nextQuestion"
              :disabled="quiz.currentQuestionIndex === quiz.questions.length - 1"
            >
              Siguiente
            </v-btn>
          </div>

          <div>
            <v-btn color="success" @click="showScore">Calcular Puntaje</v-btn>
            <v-btn color="error" class="ml-2" @click="resetQuiz">Reiniciar Quiz</v-btn>

            <div v-if="score !== null" class="mt-4">
              <h3>Puntaje: {{ score }}%</h3>

              <div v-if="incorrectQuestions.length">
                <h4>Preguntas que respondiste incorrectamente:</h4>
                <ul>
                  <li v-for="q in incorrectQuestions" :key="q.id">
                    <strong>Pregunta:</strong> {{ q.question }}<br />
                    <strong>Respuesta correcta:</strong> {{ q.answer }}
                  </li>
                </ul>
              </div>
              <div v-else>
                <p>¬°Todas las respuestas son correctas! üéâ</p>
              </div>
            </div>
          </div>
        </div>
      </v-container>

    </v-container>
  </v-app>
</template>

<script setup>
import { ref, computed } from 'vue'
import { useQuizStore } from '~/store/index.get.ts'
import Bienvenida from '~/components/Bienvenida.vue'

const titulo = 'Bienvenido a Educaci√≥n F√≠sica'
const mensaje = ref('Escribe lo que sientes') // v-model conectado

const quiz = useQuizStore()
const score = ref(null)

// ‚úÖ Manejador del evento saludo con mensaje din√°mico
const handleSaludo = (texto) => {
  const mensaje = texto.toLowerCase()
  let respuesta = ''

  if (/\bdesmotivad(o|√≥)\b/.test(mensaje)) {
    respuesta = 'Est√°s desmotivado. Empieza con solo 2 minutos de movimiento. A veces eso es suficiente para arrancar.'
  } else if (/\bestresad(o|√≥)\b/.test(mensaje)) {
    respuesta = 'Haz respiraciones profundas o movimientos suaves como estiramientos o una caminata ligera.'
  } else if (/\btrist(e|√©)\b/.test(mensaje)) {
    respuesta = 'La actividad f√≠sica puede mejorar tu estado de √°nimo. Haz algo suave y que disfrutes.'
  } else if (/\banimad(o|√≥)\b/.test(mensaje)) {
    respuesta = 'Aprovecha esa energ√≠a. Prueba una rutina din√°mica o un deporte que te guste.'
  } else if (/\bcansad(o|√≥)\b/.test(mensaje)) {
    respuesta = 'Escucha a tu cuerpo. Un descanso activo o una sesi√≥n suave puede ayudarte a recuperarte.'
  } else if (/\bfeliz\b/.test(mensaje)) {
    respuesta = 'Comparte tu alegr√≠a en movimiento: baila, corre o haz una rutina divertida.'
  } else if (/\baburrid(o|√≥)\b/.test(mensaje)) {
    respuesta = 'Prueba una actividad nueva o diferente: juegos, deportes, m√∫sica o retos f√≠sicos.'
  } else if (/\bsin\s+energ(i|√≠)a\b/.test(mensaje)) {
    respuesta = 'Empieza con movimientos lentos. A veces el movimiento trae la energ√≠a que necesitas.'
  } else if (/\bpreocupad(o|√≥)\b/.test(mensaje)) {
    respuesta = 'Moverte puede ayudarte a aclarar la mente. Camina o estira mientras respiras profundo.'
  } else if (/\bcon\s+energ(i|√≠)a\b/.test(mensaje)) {
    respuesta = '¬°Esa actitud es perfecta! Haz una sesi√≥n de entrenamiento funcional y aprovecha tu entusiasmo.'
  } else if (/\bcontent(o|√≥)\b/.test(mensaje)) {
    respuesta = 'Genial. Mant√©n esa vibra activa con algo que disfrutes como bailar, saltar o jugar.'
  } else if (/\bnervios(o|√≥)\b/.test(mensaje)) {
    respuesta = 'Haz una pausa activa con respiraciones y movimientos suaves. Te sentir√°s m√°s tranquilo.'
  } else if (/\bmotivad(o|√≥)\b/.test(mensaje)) {
    respuesta = 'Aprovecha tu motivaci√≥n para aprender una nueva habilidad f√≠sica o mejorar tu rendimiento.'
  } else if (/\brelajad(o|√≥)\b/.test(mensaje)) {
    respuesta = 'Perfecto para una caminata tranquila o una sesi√≥n de estiramientos.'
  } else if (/\bpesad(o|√≥)\b/.test(mensaje)) {
    respuesta = 'Empieza con ejercicios suaves. A veces el cuerpo solo necesita activarse poco a poco.'
  } else {
    respuesta = 'Gracias por compartir c√≥mo te sientes. El movimiento siempre puede ayudarte.'
  }

  alert(respuesta)
}

// dentro del <script setup>
const frases = [
  "El movimiento es medicina para el cuerpo y la mente.",
  "Cada paso cuenta. ¬°Mu√©vete un poco m√°s hoy!",
  "La constancia supera la perfecci√≥n.",
  "Hazlo por ti. Tu cuerpo te lo agradecer√°.",
]

const retos = [
  "Haz 10 sentadillas durante el recreo.",
  "Estira tus brazos por 1 minuto.",
  "Baila tu canci√≥n favorita por 2 minutos.",
  "Haz 15 segundos de plancha ahora.",
]

const frase = ref(frases[Math.floor(Math.random() * frases.length)])
const reto = ref(retos[Math.floor(Math.random() * retos.length)])

const cambiarReto = () => {
  reto.value = retos[Math.floor(Math.random() * retos.length)]
}






// Funciones del cuestionario
const loadQuestions = async () => {
  await quiz.fetchQuestions()
  score.value = null
}

const submitAnswer = (questionId, answer) => {
  quiz.submitAnswer(questionId, answer)
}

const nextQuestion = () => {
  quiz.nextQuestion()
}

const prevQuestion = () => {
  quiz.prevQuestion()
}

const showScore = () => {
  score.value = quiz.calculateScore()
}

const resetQuiz = () => {
  quiz.resetQuiz()
  score.value = null
}

const currentQuestion = computed(() => quiz.currentQuestion)

const incorrectQuestions = computed(() =>
  quiz.questions.filter(q => quiz.userAnswers[q.id] !== q.answer)
)
</script>



<style scoped>
.v-card {
  margin-top: 20px;
  text-align: center;
}

ul {
  text-align: left;
  margin-left: 20px;
}

.bg-primary {
  background-color: #1976d2;
  color: #fff;
}

.bg-blue-500 {
  background-color: #3b82f6;
}

.text-white {
  color: white;
}
</style>
